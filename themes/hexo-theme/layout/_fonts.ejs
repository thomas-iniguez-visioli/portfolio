<%# Modern System Font Loading This partial should be included in the <head> section
    Uses only system fonts for optimal performance and privacy
    %>

    <!-- Font loading CSS -->
    <link rel="stylesheet" href="<%= url_for('/css/fonts.css') %>">

    <!-- System font optimization -->
    <style>
        /* Immediate font loading with system fonts - no FOUT */
        html {
            font-family: Georgia, 'Times New Roman', Times, serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        /* Modern system sans-serif for headings */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-feature-settings: 'kern' 1, 'liga' 1;
        }

        /* System monospace for code */
        code,
        pre,
        kbd,
        samp {
            font-family: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            font-feature-settings: 'liga' 1, 'calt' 1;
        }

        /* Optimize font rendering */
        body {
            font-kerning: normal;
            font-variant-ligatures: common-ligatures contextual;
            font-variant-numeric: oldstyle-nums proportional-nums;
        }

        /* Better text rendering on high-DPI displays */
        @media (-webkit-min-device-pixel-ratio: 2),
        (min-resolution: 192dpi) {
            body {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }
    </style>

    <!-- Font loading performance optimization -->
    <script>
        // Mark fonts as immediately available since we're using system fonts
        document.documentElement.classList.add('fonts-loaded');

        // Optimize font rendering
        (function () {
            // Enable font-display: swap behavior for any future font loads
            if ('fonts' in document) {
                document.fonts.ready.then(function () {
                    document.documentElement.classList.add('fonts-ready');
                });
            }
        })();
    </script>