<!DOCTYPE html>
<html lang="<%- config.language %>" prefix="og: http://ogp.me/ns#" class="dev-theme">
<head>
  <!-- Legacy browser polyfills - load first -->
  <script src="<%= url_for('/js/legacy-polyfills.js') %>"></script>
  
  <%- partial('_head') %>
  
  <!-- Legacy browser support CSS -->
  <link rel="stylesheet" href="<%= url_for('/css/legacy-browser-support.css') %>">
  <link rel="stylesheet" href="<%= url_for('/css/vendor-prefixes.css') %>">
  
  <!-- Modern viewport meta tag for responsive design -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  
  <!-- Conditional comments for IE -->
  <!--[if IE]>
    <script>document.documentElement.classList.add('browser-ie');</script>
  <![endif]-->
  <!--[if IE 11]>
    <script>document.documentElement.classList.add('browser-ie11');</script>
  <![endif]-->
</head>
<body class="dev-layout modern-layout site-<%= config.layout %> content-<%= page.layout %> theme-developer"
      data-theme="<%= page.theme || 'developer' %>"
      data-layout="<%= page.layout %>"
      data-responsive="true">
  <!-- Skip link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <!-- Enhanced semantic HTML5 structure with responsive CSS Grid -->
  <div class="page-grid">
    <%- partial('header') %>
    
    <main class="page-main" role="main">
      <div class="layout-with-sidebar">
        <%- partial('sidebar') %>
        <div id="main-content" class="main-content">
          <div class="container <%= page.layout === 'post' ? '' : 'wide' %>">
            <%- body %>
          </div>
        </div>
      </div>
    </main>
    
    <%- partial('footer') %>
  </div>
  
  <!-- Modern script loading -->
  <script src="<%= url_for(`/assets/js/main.js?v=${process.env.npm_package_version}`)%>" type="module"></script>
  <script src="<%= url_for('/js/dev-sidebar.js') %>" defer></script>
  <script>tarteaucitron.user.tawktoWidgetId = '1iu11r9a9';</script>
</body>
</html>
