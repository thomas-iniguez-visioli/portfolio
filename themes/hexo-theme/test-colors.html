<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Theme - Color System Test</title>
    
    <!-- Load CSS files -->
    <link rel="stylesheet" href="source/css/foundation/variables.css">
    <link rel="stylesheet" href="source/css/utilities/colors.css">
    <link rel="stylesheet" href="source/css/utilities/dark-mode.css">
    
    <style>
        /* Test page specific styles */
        body {
            font-family: var(--font-family-sans);
            line-height: var(--line-height-normal);
            margin: 0;
            padding: var(--space-4);
            background-color: var(--color-background);
            color: var(--color-text-primary);
        }
        
        .test-section {
            margin-bottom: var(--space-8);
            padding: var(--space-4);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius-lg);
        }
        
        .color-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-4);
        }
        
        .color-swatch {
            padding: var(--space-4);
            border-radius: var(--border-radius-md);
            border: 1px solid var(--color-border);
            text-align: center;
            font-size: var(--font-size-sm);
            font-family: var(--font-family-mono);
        }
        
        .badge-grid {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-2);
            margin-top: var(--space-4);
        }
        
        .test-badge {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
            font-family: var(--font-family-mono);
        }
        
        .contrast-test {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-4);
            margin-top: var(--space-4);
        }
        
        .contrast-example {
            padding: var(--space-4);
            border-radius: var(--border-radius-md);
            text-align: center;
        }
        
        .theme-controls {
            position: fixed;
            top: var(--space-4);
            right: var(--space-4);
            display: flex;
            gap: var(--space-2);
            z-index: var(--z-index-sticky);
        }
        
        .syntax-example {
            background-color: var(--dev-code-bg);
            border: 1px solid var(--dev-code-border);
            border-radius: var(--border-radius-md);
            padding: var(--space-4);
            font-family: var(--font-family-mono);
            font-size: var(--font-size-sm);
            overflow-x: auto;
            margin-top: var(--space-4);
        }
        
        .browser-test {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-2);
            margin-top: var(--space-4);
        }
        
        .browser-indicator {
            padding: var(--space-2);
            text-align: center;
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
        }
        
        .supports-css-vars {
            background-color: var(--color-success);
            color: white;
        }
        
        .no-css-vars {
            background-color: var(--color-error);
            color: white;
        }
        
        .supports-grid {
            background-color: var(--color-info);
            color: white;
        }
        
        .no-grid {
            background-color: var(--color-warning);
            color: black;
        }
    </style>
</head>
<body>
    <div class="theme-controls">
        <button data-theme-toggle class="theme-toggle">
            <span data-theme-icon class="theme-toggle-icon"></span>
            <span class="theme-toggle-text">Toggle Theme</span>
        </button>
        <button onclick="window.useSystemTheme()" class="theme-toggle">
            System Theme
        </button>
    </div>

    <h1>Developer Theme - Color System Test</h1>
    <p>This page tests the color system, dark mode support, and cross-browser compatibility.</p>

    <!-- Browser Compatibility Test -->
    <div class="test-section">
        <h2>Browser Compatibility</h2>
        <div class="browser-test">
            <div class="browser-indicator supports-css-vars">CSS Variables Supported</div>
            <div class="browser-indicator supports-grid">CSS Grid Supported</div>
            <div class="browser-indicator" id="dark-mode-support">Dark Mode: Checking...</div>
            <div class="browser-indicator" id="system-theme">System Theme: Checking...</div>
        </div>
    </div>

    <!-- Primary Color Palette -->
    <div class="test-section">
        <h2>Primary Color Palette</h2>
        <div class="color-grid">
            <div class="color-swatch bg-primary-50 text-neutral-900">Primary 50</div>
            <div class="color-swatch bg-primary-100 text-neutral-900">Primary 100</div>
            <div class="color-swatch bg-primary-200 text-neutral-900">Primary 200</div>
            <div class="color-swatch bg-primary-300 text-neutral-900">Primary 300</div>
            <div class="color-swatch bg-primary-400 text-white">Primary 400</div>
            <div class="color-swatch bg-primary-500 text-white">Primary 500</div>
            <div class="color-swatch bg-primary-600 text-white">Primary 600</div>
            <div class="color-swatch bg-primary-700 text-white">Primary 700</div>
            <div class="color-swatch bg-primary-800 text-white">Primary 800</div>
            <div class="color-swatch bg-primary-900 text-white">Primary 900</div>
        </div>
    </div>

    <!-- Neutral Color Palette -->
    <div class="test-section">
        <h2>Neutral Color Palette</h2>
        <div class="color-grid">
            <div class="color-swatch bg-neutral-50 text-neutral-900">Neutral 50</div>
            <div class="color-swatch bg-neutral-100 text-neutral-900">Neutral 100</div>
            <div class="color-swatch bg-neutral-200 text-neutral-900">Neutral 200</div>
            <div class="color-swatch bg-neutral-300 text-neutral-900">Neutral 300</div>
            <div class="color-swatch bg-neutral-400 text-white">Neutral 400</div>
            <div class="color-swatch bg-neutral-500 text-white">Neutral 500</div>
            <div class="color-swatch bg-neutral-600 text-white">Neutral 600</div>
            <div class="color-swatch bg-neutral-700 text-white">Neutral 700</div>
            <div class="color-swatch bg-neutral-800 text-white">Neutral 800</div>
            <div class="color-swatch bg-neutral-900 text-white">Neutral 900</div>
        </div>
    </div>

    <!-- Semantic Colors -->
    <div class="test-section">
        <h2>Semantic Colors</h2>
        <div class="color-grid">
            <div class="color-swatch bg-success text-white">Success</div>
            <div class="color-swatch bg-warning text-black">Warning</div>
            <div class="color-swatch bg-error text-white">Error</div>
            <div class="color-swatch bg-info text-white">Info</div>
        </div>
    </div>

    <!-- Developer Badge Colors -->
    <div class="test-section">
        <h2>Developer Technology Badges</h2>
        <div class="badge-grid">
            <span class="test-badge badge-javascript">JavaScript</span>
            <span class="test-badge badge-typescript">TypeScript</span>
            <span class="test-badge badge-react">React</span>
            <span class="test-badge badge-vue">Vue.js</span>
            <span class="test-badge badge-angular">Angular</span>
            <span class="test-badge badge-node">Node.js</span>
            <span class="test-badge badge-python">Python</span>
            <span class="test-badge badge-java">Java</span>
            <span class="test-badge badge-csharp">C#</span>
            <span class="test-badge badge-php">PHP</span>
            <span class="test-badge badge-ruby">Ruby</span>
            <span class="test-badge badge-go">Go</span>
            <span class="test-badge badge-rust">Rust</span>
        </div>
        
        <h3>Tool Badges</h3>
        <div class="badge-grid">
            <span class="test-badge badge-git">Git</span>
            <span class="test-badge badge-docker">Docker</span>
            <span class="test-badge badge-kubernetes">Kubernetes</span>
            <span class="test-badge badge-aws">AWS</span>
            <span class="test-badge badge-azure">Azure</span>
            <span class="test-badge badge-gcp">Google Cloud</span>
            <span class="test-badge badge-vscode">VS Code</span>
            <span class="test-badge badge-github">GitHub</span>
            <span class="test-badge badge-gitlab">GitLab</span>
        </div>
        
        <h3>Skill Level Badges</h3>
        <div class="badge-grid">
            <span class="test-badge badge-beginner">Beginner</span>
            <span class="test-badge badge-intermediate">Intermediate</span>
            <span class="test-badge badge-advanced">Advanced</span>
            <span class="test-badge badge-expert">Expert</span>
        </div>
    </div>

    <!-- WCAG Contrast Test -->
    <div class="test-section">
        <h2>WCAG AA Contrast Test</h2>
        <div class="contrast-test">
            <div class="contrast-example text-contrast-high">
                <h3>High Contrast (WCAG AAA)</h3>
                <p>This text should have excellent readability with a contrast ratio of at least 7:1.</p>
            </div>
            <div class="contrast-example text-contrast-high-inverse">
                <h3>High Contrast Inverse</h3>
                <p>This inverse text should also have excellent readability with high contrast.</p>
            </div>
            <div class="contrast-example text-contrast-medium">
                <h3>Medium Contrast (WCAG AA)</h3>
                <p>This text should have good readability with a contrast ratio of at least 4.5:1.</p>
            </div>
            <div class="contrast-example text-contrast-medium-inverse">
                <h3>Medium Contrast Inverse</h3>
                <p>This inverse text should also meet WCAG AA standards.</p>
            </div>
        </div>
    </div>

    <!-- Developer Terminal/Code Example -->
    <div class="test-section">
        <h2>Developer Code Syntax</h2>
        <div class="syntax-example">
            <div class="text-syntax-comment">// Example JavaScript code with syntax highlighting</div>
            <div><span class="text-syntax-keyword">const</span> <span class="text-syntax-variable">greeting</span> <span class="text-syntax-operator">=</span> <span class="text-syntax-string">"Hello, World!"</span>;</div>
            <div><span class="text-syntax-keyword">function</span> <span class="text-syntax-function">sayHello</span>(<span class="text-syntax-variable">name</span>) {</div>
            <div>&nbsp;&nbsp;<span class="text-syntax-keyword">return</span> <span class="text-syntax-string">`Hello, ${<span class="text-syntax-variable">name</span>}!`</span>;</div>
            <div>}</div>
            <div></div>
            <div class="text-syntax-comment">// Numbers and constants</div>
            <div><span class="text-syntax-keyword">const</span> <span class="text-syntax-constant">PI</span> <span class="text-syntax-operator">=</span> <span class="text-syntax-number">3.14159</span>;</div>
            <div><span class="text-syntax-keyword">const</span> <span class="text-syntax-variable">result</span> <span class="text-syntax-operator">=</span> <span class="text-syntax-function">sayHello</span>(<span class="text-syntax-string">"Developer"</span>);</div>
        </div>
    </div>

    <!-- Status Indicators -->
    <div class="test-section">
        <h2>Developer Status Indicators</h2>
        <div class="badge-grid">
            <span class="test-badge text-online bg-neutral-100">● Online</span>
            <span class="test-badge text-busy bg-neutral-100">● Busy</span>
            <span class="test-badge text-away bg-neutral-100">● Away</span>
            <span class="test-badge text-offline bg-neutral-100">● Offline</span>
        </div>
    </div>

    <!-- Interactive Elements Test -->
    <div class="test-section">
        <h2>Interactive Elements</h2>
        <div style="display: flex; gap: var(--space-4); flex-wrap: wrap; align-items: center;">
            <button class="bg-primary text-white" style="padding: var(--space-2) var(--space-4); border: none; border-radius: var(--border-radius-md); cursor: pointer;">Primary Button</button>
            <button class="btn-secondary" style="padding: var(--space-2) var(--space-4); border: 1px solid var(--color-border); border-radius: var(--border-radius-md); cursor: pointer; background-color: var(--color-background-secondary); color: var(--color-text-primary);">Secondary Button</button>
            <input type="text" placeholder="Test input field" style="padding: var(--space-2); border: 1px solid var(--color-border); border-radius: var(--border-radius-md); background-color: var(--color-background); color: var(--color-text-primary);">
            <a href="#" class="text-primary">Test Link</a>
        </div>
    </div>

    <!-- Load JavaScript -->
    <script src="source/js/dark-mode-toggle.js"></script>
    
    <script>
        // Browser compatibility detection
        function detectBrowserSupport() {
            // Test CSS Variables support
            const cssVarsSupported = window.CSS && CSS.supports('color', 'var(--test)');
            
            // Test CSS Grid support
            const gridSupported = CSS.supports('display', 'grid');
            
            // Test dark mode media query support
            const darkModeSupported = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches !== undefined;
            
            // Update indicators
            document.getElementById('dark-mode-support').textContent = 
                `Dark Mode: ${darkModeSupported ? 'Supported' : 'Not Supported'}`;
            document.getElementById('dark-mode-support').className = 
                `browser-indicator ${darkModeSupported ? 'supports-css-vars' : 'no-css-vars'}`;
            
            // Detect system theme preference
            const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            document.getElementById('system-theme').textContent = 
                `System Theme: ${systemPrefersDark ? 'Dark' : 'Light'}`;
            document.getElementById('system-theme').className = 
                `browser-indicator ${systemPrefersDark ? 'supports-grid' : 'supports-css-vars'}`;
            
            // Log browser info for debugging
            console.log('Browser Support Detection:', {
                cssVariables: cssVarsSupported,
                cssGrid: gridSupported,
                darkModeQuery: darkModeSupported,
                systemPrefersDark: systemPrefersDark,
                userAgent: navigator.userAgent
            });
        }
        
        // Run detection when page loads
        document.addEventListener('DOMContentLoaded', detectBrowserSupport);
        
        // Listen for theme changes
        document.addEventListener('themechange', function(e) {
            console.log('Theme changed to:', e.detail.theme);
        });
        
        // Test color contrast ratios (basic implementation)
        function testColorContrast() {
            const testElements = document.querySelectorAll('.contrast-example');
            testElements.forEach(element => {
                const styles = window.getComputedStyle(element);
                const bgColor = styles.backgroundColor;
                const textColor = styles.color;
                console.log('Contrast test:', {
                    element: element.querySelector('h3').textContent,
                    backgroundColor: bgColor,
                    textColor: textColor
                });
            });
        }
        
        // Run contrast test after theme is applied
        setTimeout(testColorContrast, 1000);
    </script>
</body>
</html>